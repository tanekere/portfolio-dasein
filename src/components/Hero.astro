---
interface Action {
  label: string;
  href: string;
}

interface Props {
  eyebrow?: string;
  title: string;
  description?: string;
  actions?: Action[];
  role?: string;
  location?: string;
}

import { withBase } from "../utils/slugify";

const isExternal = (path: string) => /^[a-z][a-z0-9+.-]*:/i.test(path) || path.startsWith('//');

const { title, description, actions = [], role, location } = Astro.props as Props; 
---

<section class="flex flex-col justify-between" style="min-height: calc(100vh - (var(--grid-cell) / 2));">
  <div class="grid gap-3 md:gap-4 max-w-3xl pb-6 md:pb-10">
    <div class="flex flex-col lg:flex-row lg:justify-between items-start gap-8">
      <div
        class="hero-letters text-[10vw] md:text-[10rem] lg:text-[10rem] leading-[0.85] font-extrabold text-base-900"
        aria-hidden="true"
      >
        {title}
      </div>
    </div>
  </div>

  <div class="max-w-360 mx-auto px-8 w-full mt-auto">
    <div class="grid grid-cols-1 gap-4 md:grid-cols-3 border-b pb-8 border-base-200">
      <div>
        {role && <h1 class="text-xs 2xl:text-lg text-base-900 font-bold uppercase">{role}</h1>}
      </div>

      <div class="md:col-span-1">
        {description && <p class="text-sm 2xl:text-xl text-base-600">{description}</p>}
        {location && <p class="text-sm text-base-600 mt-2">{location}</p>}
      </div>

      <div class="md:col-span-1 flex items-start md:justify-end">
        {actions.length > 0 && (
          <div class="mt-0 md:mt-0 flex flex-col md:flex-row md:items-start md:justify-end gap-3">
            {actions.map((action) => (
              isExternal(action.href) ? (
                <a
                  class="text-xs 2xl:text-lg text-base-900 hover:text-base-500 font-bold uppercase inline-block px-4 py-2"
                  href={action.href}
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  {action.label}
                </a>
              ) : (
                <a
                  class="text-xs 2xl:text-lg text-base-900 hover:text-base-500 font-bold uppercase inline-block px-4 py-2"
                  href={withBase(action.href)}
                >
                  {action.label}
                </a>
              )
            ))}
          </div>
        )}
      </div>
    </div>
  </div>
</section>
